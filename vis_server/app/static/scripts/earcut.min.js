!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.earcut=e()}}(function(){return function e(n,r,t){function p(i,o){if(!r[i]){if(!n[i]){var f="function"==typeof require&&require;if(!o&&f)return f(i,!0);if(u)return u(i,!0);var x=new Error("Cannot find module '"+i+"'");throw x.code="MODULE_NOT_FOUND",x}var v=r[i]={exports:{}};n[i][0].call(v.exports,function(e){var r=n[i][1][e];return p(r?r:e)},v,v.exports,e,n,r,t)}return r[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)p(t[i]);return p}({1:[function(e,n,r){"use strict";function t(e,n){var r=u(p(e[0],!0)),t=n?{vertices:[],indices:[]}:[];if(!r)return t;var o,f,x,v,a,c,s,Z,h,d=80;for(h=0;d>=0&&h<e.length;h++)d-=e[h].length;if(0>d){o=r.next,f=v=o.p[0],x=a=o.p[1];do c=o.p[0],s=o.p[1],f>c&&(f=c),x>s&&(x=s),c>v&&(v=c),s>a&&(a=s),o=o.next;while(o!==r);Z=Math.max(v-f,a-x)}return e.length>1&&(r=l(e,r)),i(r,t,f,x,Z),t}function p(e,n){var r,t,p,u,i,o=0,f=e.length;for(r=0,t=f-1;f>r;t=r++)p=e[r],u=e[t],o+=(u[0]-p[0])*(p[1]+u[1]);if(n===o>0)for(r=0;f>r;r++)i=D(e[r],i);else for(r=f-1;r>=0;r--)i=D(e[r],i);return i}function u(e,n){n||(n=e);var r,t=e;do if(r=!1,y(t.p,t.next.p)||0===g(t.prev.p,t.p,t.next.p)){if(t.prev.next=t.next,t.next.prev=t.prev,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ),t=n=t.prev,t===t.next)return null;r=!0}else t=t.next;while(r||t!==n);return n}function i(e,n,r,t,p,l){if(e){var a=void 0!==n.vertices;l||void 0===r||s(e,r,t,p);for(var c,Z,h=e;e.prev!==e.next;)if(c=e.prev,Z=e.next,f(e,r,t,p))a?(o(n,c),o(n,e),o(n,Z)):(n.push(c.p),n.push(e.p),n.push(Z.p)),Z.prev=c,c.next=Z,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ),e=Z.next,h=Z.next;else if(e=Z,e===h){l?1===l?(e=x(e,n),i(e,n,r,t,p,2)):2===l&&v(e,n,r,t,p):i(u(e),n,r,t,p,1);break}}}function o(e,n){n.source&&(n=n.source);var r=n.index;if(null===r){var t=n.p.length,p=e.vertices;n.index=r=p.length/t;for(var u=0;t>u;u++)p.push(n.p[u])}e.indices.push(r)}function f(e,n,r,t){var p=e.prev.p,u=e.p,i=e.next.p,o=p[0],f=u[0],x=i[0],v=p[1],l=u[1],a=i[1],c=o*l-v*f,s=o*a-v*x,Z=x*l-a*f,d=c-s-Z;if(0>=d)return!1;var w,g,y,z,b,m,q,M=a-v,O=o-x,D=v-l,E=f-o;if(void 0!==n){var N=f>o?x>o?o:x:x>f?f:x,U=l>v?a>v?v:a:a>l?l:a,_=o>f?o>x?o:x:f>x?f:x,j=v>l?v>a?v:a:l>a?l:a,k=h(N,U,n,r,t),C=h(_,j,n,r,t);for(q=e.nextZ;q&&q.z<=C;)if(w=q.p,q=q.nextZ,w!==p&&w!==i&&(g=w[0],y=w[1],z=M*g+O*y-s,z>=0&&(b=D*g+E*y+c,b>=0&&(m=d-z-b,m>=0&&(z&&b||z&&m||b&&m)))))return!1;for(q=e.prevZ;q&&q.z>=k;)if(w=q.p,q=q.prevZ,w!==p&&w!==i&&(g=w[0],y=w[1],z=M*g+O*y-s,z>=0&&(b=D*g+E*y+c,b>=0&&(m=d-z-b,m>=0&&(z&&b||z&&m||b&&m)))))return!1}else for(q=e.next.next;q!==e.prev;)if(w=q.p,q=q.next,g=w[0],y=w[1],z=M*g+O*y-s,z>=0&&(b=D*g+E*y+c,b>=0&&(m=d-z-b,m>=0&&(z&&b||z&&m||b&&m))))return!1;return!0}function x(e,n){var r=!!n.vertices,t=e;do{var p=t.prev,u=t.next.next;if(p.p!==u.p&&z(p.p,t.p,t.next.p,u.p)&&m(p,u)&&m(u,p)){r?(o(n,p),o(n,t),o(n,u)):(n.push(p.p),n.push(t.p),n.push(u.p)),p.next=u,u.prev=p;var i=t.prevZ,f=t.nextZ&&t.nextZ.nextZ;i&&(i.nextZ=f),f&&(f.prevZ=i),t=e=u}t=t.next}while(t!==e);return t}function v(e,n,r,t,p){var o=e;do{for(var f=o.next.next;f!==o.prev;){if(o.p!==f.p&&w(o,f)){var x=O(o,f);return o=u(o,o.next),x=u(x,x.next),i(o,n,r,t,p),void i(x,n,r,t,p)}f=f.next}o=o.next}while(o!==e)}function l(e,n){for(var r=e.length,t=[],i=1;r>i;i++){var o=u(p(e[i],!1));o&&t.push(d(o))}for(t.sort(M),i=0;i<t.length;i++)a(t[i],n),n=u(n,n.next);return n}function a(e,n){if(n=c(e,n)){var r=O(n,e);u(r,r.next)}}function c(e,n){var r,t,p,u=n,i=e.p,o=i[0],f=i[1],x=-(1/0);do{if(t=u.p,p=u.next.p,f<=t[1]&&f>=p[1]){var v=t[0]+(f-t[1])*(p[0]-t[0])/(p[1]-t[1]);o>=v&&v>x&&(x=v,r=t[0]<p[0]?u:u.next)}u=u.next}while(u!==n);if(!r)return null;var l,a,c,s,Z,h,d=r.p[0],w=r.p[1],g=o*w-f*d,y=o*f-f*x,z=f-f,b=o-x,q=f-w,M=d-o,O=g-y-(x*w-f*d),D=0>=O?-1:1,E=r,N=1/0;for(u=r.next;u!==E;)l=u.p[0],a=u.p[1],c=o-l,c>=0&&l>=d&&(s=(z*l+b*a-y)*D,s>=0&&(Z=(q*l+M*a+g)*D,Z>=0&&O*D-s-Z>=0&&(h=Math.abs(f-a)/c,N>h&&m(u,e)&&(r=u,N=h)))),u=u.next;return r}function s(e,n,r,t){var p=e;do null===p.z&&(p.z=h(p.p[0],p.p[1],n,r,t)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next;while(p!==e);p.prevZ.nextZ=null,p.prevZ=null,Z(p)}function Z(e){var n,r,t,p,u,i,o,f,x=1;do{for(r=e,e=null,u=null,i=0;r;){for(i++,t=r,o=0,n=0;x>n&&(o++,t=t.nextZ,t);n++);for(f=x;o>0||f>0&&t;)0===o?(p=t,t=t.nextZ,f--):0!==f&&t?r.z<=t.z?(p=r,r=r.nextZ,o--):(p=t,t=t.nextZ,f--):(p=r,r=r.nextZ,o--),u?u.nextZ=p:e=p,p.prevZ=u,u=p;r=t}u.nextZ=null,x*=2}while(i>1);return e}function h(e,n,r,t,p){return e=1e3*(e-r)/p,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),n=1e3*(n-t)/p,n=16711935&(n|n<<8),n=252645135&(n|n<<4),n=858993459&(n|n<<2),n=1431655765&(n|n<<1),e|n<<1}function d(e){var n=e,r=e;do n.p[0]<r.p[0]&&(r=n),n=n.next;while(n!==e);return r}function w(e,n){return!b(e,e.p,n.p)&&m(e,n)&&m(n,e)&&q(e,e.p,n.p)}function g(e,n,r){var t=(n[1]-e[1])*(r[0]-n[0])-(n[0]-e[0])*(r[1]-n[1]);return t>0?1:0>t?-1:0}function y(e,n){return e[0]===n[0]&&e[1]===n[1]}function z(e,n,r,t){return g(e,n,r)!==g(e,n,t)&&g(r,t,e)!==g(r,t,n)}function b(e,n,r){var t=e;do{var p=t.p,u=t.next.p;if(p!==n&&u!==n&&p!==r&&u!==r&&z(p,u,n,r))return!0;t=t.next}while(t!==e);return!1}function m(e,n){return-1===g(e.prev.p,e.p,e.next.p)?-1!==g(e.p,n.p,e.next.p)&&-1!==g(e.p,e.prev.p,n.p):-1===g(e.p,n.p,e.prev.p)||-1===g(e.p,e.next.p,n.p)}function q(e,n,r){var t=e,p=!1,u=(n[0]+r[0])/2,i=(n[1]+r[1])/2;do{var o=t.p,f=t.next.p;o[1]>i!=f[1]>i&&u<(f[0]-o[0])*(i-o[1])/(f[1]-o[1])+o[0]&&(p=!p),t=t.next}while(t!==e);return p}function M(e,n){return e.p[0]-n.p[0]}function O(e,n){var r=new E(e.p),t=new E(n.p),p=e.next,u=n.prev;return r.source=e,t.source=n,e.next=n,n.prev=e,r.next=p,p.prev=r,t.next=r,r.prev=t,u.next=t,t.prev=u,t}function D(e,n){var r=new E(e);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function E(e){this.p=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.source=null,this.index=null}n.exports=t},{}]},{},[1])(1)});